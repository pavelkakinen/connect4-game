@page "{id:int}"
@model WebApp.Pages.Admin.Classes.DeleteModel
@{
    ViewData["Title"] = "Delete Class";
}

<h1>Delete Class</h1>

@if (Model.DanceClass == null)
{
    <div class="alert alert-danger">Class not found.</div>
    <a asp-page="Index" class="btn btn-primary">Back to List</a>
}
else
{
    <div class="alert alert-danger">
        <h4 class="alert-heading">Are you sure you want to delete this class?</h4>
        <p>This action cannot be undone. All bookings for this class will also be deleted.</p>
    </div>

    <div class="card mb-4">
        <div class="card-header">
            <h5 class="mb-0">@Model.DanceClass.DanceStyle.Name - @Model.DanceClass.Level</h5>
        </div>
        <div class="card-body">
            <dl class="row mb-0">
                <dt class="col-sm-3">Day</dt>
                <dd class="col-sm-9">@Model.DanceClass.DayOfWeek</dd>

                <dt class="col-sm-3">Time</dt>
                <dd class="col-sm-9">@Model.DanceClass.StartTime.ToString(@"hh\:mm") - @Model.DanceClass.EndTime.ToString(@"hh\:mm")</dd>

                <dt class="col-sm-3">Instructor</dt>
                <dd class="col-sm-9">@Model.DanceClass.InstructorName</dd>

                <dt class="col-sm-3">Studio</dt>
                <dd class="col-sm-9">@Model.DanceClass.Studio.Name</dd>

                <dt class="col-sm-3">Max Students</dt>
                <dd class="col-sm-9">@Model.DanceClass.MaxStudents</dd>

                <dt class="col-sm-3">Current Bookings</dt>
                <dd class="col-sm-9">@Model.BookingCount</dd>
            </dl>
        </div>
    </div>

    @if (Model.BookingCount > 0)
    {
        <div class="alert alert-warning">
            <strong>Warning:</strong> This class has @Model.BookingCount booking(s) that will be deleted.
        </div>
    }

    <form method="post">
        <input type="hidden" asp-for="DanceClass.Id" />
        <div class="d-flex gap-2">
            <button type="submit" class="btn btn-danger">Delete Class</button>
            <a asp-page="Index" class="btn btn-outline-secondary">Cancel</a>
        </div>
    </form>
}
